# 顔で月面着陸チャレンジ

インカメラを使った月面着陸ゲームの開発プロジェクトです。

### 動作環境

* iPhone 15 Plus + Safari でしか動作確認していません。比較的新しい端末では動作すると思います。

### 遊び方

* 口を開けると着陸船は上方向に力が加わります。
* 右または左を見ると着陸船は向いた方向に力が加わります。
* 使えるエネルギーには上限があります。
* 着陸船を操作して着陸ポイントへゆっくり着地するとクリアです。
* ステージは5つあります。

### 開発メモ

* 口が開いているかどうかなどの閾値が固定値でうまくいくかわかりません。
  * 状況によってはキャリブレーション的な機能が必要かもしれません。
* `face-api.js`の`faceapi.detectSingleFace()`が特定のケースで応答しなくなる（`.then`も`.catch`も呼ばれない）のでたぶんライブラリ内部で止まっちゃっていると思います。

### ソースビルド方法

VSCode + node.jp + npmで動作します。

#### 各ライブラリをインストール（一度のみ）

```
npm install
```

#### 開発時

開発時はバンドラーによる監視とローカルWebサーバーを立ち上げます。

```
npx webpack -w
```

```
npx live-server docs
```

なおIPでアクセスする場合（LAN内の他の端末で試すなどする場合）はHTTPSで接続しないとカメラが動作しません。

SCSSは拡張機能で[Live Sass Compiler](https://marketplace.visualstudio.com/items?itemName=glenn2223.live-sass)を利用します。

#### リリース時

```
npx webpack --mode=production
```
